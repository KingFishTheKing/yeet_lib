/* 
# _______________________________________________________________________________________________________________________________________________________
#  _______________________________________________________________________________________________________________________________________________________
#  _________tttt_________hhhhhhh__________________________________________________________________________________________________________________________
#  ______ttt:::t_________h:::::h__________________________________________________________________________________________________________________________
#  ______t:::::t_________h:::::h__________________________________________________________________________________________________________________________
#  ______t:::::t_________h:::::h__________________________________________________________________________________________________________________________
#  ttttttt:::::ttttttt____h::::h_hhhhh___________eeeeeeeeeeee_____________________________________________________________________________________________
#  t:::::::::::::::::t____h::::hh:::::hhh______ee::::::::::::ee___________________________________________________________________________________________
#  t:::::::::::::::::t____h::::::::::::::hh___e::::::eeeee:::::ee_________________________________________________________________________________________
#  tttttt:::::::tttttt____h:::::::hhh::::::h_e::::::e_____e:::::e_________________________________________________________________________________________
#  ______t:::::t__________h::::::h___h::::::he:::::::eeeee::::::e_________________________________________________________________________________________
#  ______t:::::t__________h:::::h_____h:::::he:::::::::::::::::e__________________________________________________________________________________________
#  ______t:::::t__________h:::::h_____h:::::he::::::eeeeeeeeeee___________________________________________________________________________________________
#  ______t:::::t____tttttth:::::h_____h:::::he:::::::e____________________________________________________________________________________________________
#  ______t::::::tttt:::::th:::::h_____h:::::he::::::::e___________________________________________________________________________________________________
#  ______tt::::::::::::::th:::::h_____h:::::h_e::::::::eeeeeeee___________________________________________________________________________________________
#  ________tt:::::::::::tth:::::h_____h:::::h__ee:::::::::::::e___________________________________________________________________________________________
#  __________ttttttttttt__hhhhhhh_____hhhhhhh____eeeeeeeeeeeeee___________________________________________________________________________________________
#  _________________________________________________________dddddddd______________________________________________________________________________________
#  lllllll__________________________________________________d::::::d______________________________________________________________________________________
#  l:::::l__________________________________________________d::::::d______________________________________________________________________________________
#  l:::::l__________________________________________________d::::::d______________________________________________________________________________________
#  l:::::l__________________________________________________d:::::d_______________________________________________________________________________________
#  _l::::l____ooooooooooo___rrrrr___rrrrrrrrr_______ddddddddd:::::d_______________________________________________________________________________________
#  _l::::l__oo:::::::::::oo_r::::rrr:::::::::r____dd::::::::::::::d_______________________________________________________________________________________
#  _l::::l_o:::::::::::::::or:::::::::::::::::r__d::::::::::::::::d_______________________________________________________________________________________
#  _l::::l_o:::::ooooo:::::orr::::::rrrrr::::::rd:::::::ddddd:::::d_______________________________________________________________________________________
#  _l::::l_o::::o_____o::::o_r:::::r_____r:::::rd::::::d____d:::::d_______________________________________________________________________________________
#  _l::::l_o::::o_____o::::o_r:::::r_____rrrrrrrd:::::d_____d:::::d_______________________________________________________________________________________
#  _l::::l_o::::o_____o::::o_r:::::r____________d:::::d_____d:::::d_______________________________________________________________________________________
#  _l::::l_o::::o_____o::::o_r:::::r____________d:::::d_____d:::::d_______________________________________________________________________________________
#  l::::::lo:::::ooooo:::::o_r:::::r____________d::::::ddddd::::::dd_____tttt_______________________________________tttt_________hhhhhhh__________________
#  l::::::lo:::::::::::::::o_r:::::r_____________d:::::::::::::::::d__ttt:::t____________________________________ttt:::t_________h:::::h__________________
#  l::::::l_oo:::::::::::oo__r:::::r______________d:::::::::ddd::::d__t:::::t____________________________________t:::::t_________h:::::h__________________
#  llllllll___ooooooooooo____rrrrrrr_______________ddddddddd___ddddd__t:::::t____________________________________t:::::t_________h:::::h__________________
#  yyyyyyy___________yyyyyyy_eeeeeeeeeeee_______eeeeeeeeeeee____ttttttt:::::ttttttt________eeeeeeeeeeee____ttttttt:::::ttttttt____h::::h_hhhhh____________
#  _y:::::y_________y:::::yee::::::::::::ee___ee::::::::::::ee__t:::::::::::::::::t______ee::::::::::::ee__t:::::::::::::::::t____h::::hh:::::hhh_________
#  __y:::::y_______y:::::ye::::::eeeee:::::eee::::::eeeee:::::eet:::::::::::::::::t_____e::::::eeeee:::::eet:::::::::::::::::t____h::::::::::::::hh_______
#  ___y:::::y_____y:::::ye::::::e_____e:::::e::::::e_____e:::::etttttt:::::::tttttt____e::::::e_____e:::::etttttt:::::::tttttt____h:::::::hhh::::::h______
#  ____y:::::y___y:::::y_e:::::::eeeee::::::e:::::::eeeee::::::e______t:::::t__________e:::::::eeeee::::::e______t:::::t__________h::::::h___h::::::h_____
#  _____y:::::y_y:::::y__e:::::::::::::::::ee:::::::::::::::::e_______t:::::t__________e:::::::::::::::::e_______t:::::t__________h:::::h_____h:::::h_____
#  ______y:::::y:::::y___e::::::eeeeeeeeeee_e::::::eeeeeeeeeee________t:::::t__________e::::::eeeeeeeeeee________t:::::t__________h:::::h_____h:::::h_____
#  _______y:::::::::y____e:::::::e__________e:::::::e_________________t:::::t____tttttte:::::::e_________________t:::::t____tttttth:::::h_____h:::::h_____
#  ________y:::::::y_____e::::::::e_________e::::::::e________________t::::::tttt:::::te::::::::e________________t::::::tttt:::::th:::::h_____h:::::h_____
#  _________y:::::y_______e::::::::eeeeeeee__e::::::::eeeeeeee________tt::::::::::::::t_e::::::::eeeeeeee________tt::::::::::::::th:::::h_____h:::::h_____
#  ________y:::::y_________ee:::::::::::::e___ee:::::::::::::e__________tt:::::::::::tt__ee:::::::::::::e__________tt:::::::::::tth:::::h_____h:::::h_____
#  _______y:::::y____________eeeeeeeeeeeeee_____eeeeeeeeeeeeee____________ttttttttttt______eeeeeeeeeeeeee____________ttttttttttt__hhhhhhh_____hhhhhhh_____
#  ______y:::::y__________________________________dddddddd________________________________________________________________________________________________
#  _____y:::::y___________________________________d::::::d________________________________________________________________________________________________
#  ____y:::::y____________________________________d::::::d________________________________________________________________________________________________
#  ___y:::::y_____________________________________d::::::d________________________________________________________________________________________________
#  __yyyyyyy______________________________________d:::::d_________________________________________________________________________________________________
#  __aaaaaaaaaaaaa__nnnn__nnnnnnnn________ddddddddd:::::d_________________________________________________________________________________________________
#  __a::::::::::::a_n:::nn::::::::nn____dd::::::::::::::d_________________________________________________________________________________________________
#  __aaaaaaaaa:::::an::::::::::::::nn__d::::::::::::::::d_________________________________________________________________________________________________
#  ___________a::::ann:::::::::::::::nd:::::::ddddd:::::d_________________________________________________________________________________________________
#  ____aaaaaaa:::::a__n:::::nnnn:::::nd::::::d____d:::::d_________________________________________________________________________________________________
#  __aa::::::::::::a__n::::n____n::::nd:::::d_____d:::::d_________________________________________________________________________________________________
#  _a::::aaaa::::::a__n::::n____n::::nd:::::d_____d:::::d_________________________________________________________________________________________________
#  a::::a____a:::::a__n::::n____n::::nd:::::d_____d:::::d_________________________________________________________________________________________________
#  a::::a____a:::::a__n::::n____n::::nd::::::ddddd::::::dd________________________________________________________________________________________________
#  a:::::aaaa::::::a__n::::n____n::::n_d:::::::::::::::::d________________________________________________________________________________________________
#  _a::::::::::aa:::a_n::::n____n::::n__d:::::::::ddd::::d________________________________________________________________________________________________
#  __aaaaaaaaaa__aaaa_nnnnnn____nnnnnn___ddddddddd___ddddd_____________________________________________________________________dddddddd___________________
#  _________tttt_________hhhhhhh______________________________________lllllll__________________________________________________d::::::d___________________
#  ______ttt:::t_________h:::::h______________________________________l:::::l__________________________________________________d::::::d___________________
#  ______t:::::t_________h:::::h______________________________________l:::::l__________________________________________________d::::::d___________________
#  ______t:::::t_________h:::::h______________________________________l:::::l__________________________________________________d:::::d____________________
#  ttttttt:::::ttttttt____h::::h_hhhhh___________eeeeeeeeeeee__________l::::l____ooooooooooo___rrrrr___rrrrrrrrr_______ddddddddd:::::d____________________
#  t:::::::::::::::::t____h::::hh:::::hhh______ee::::::::::::ee________l::::l__oo:::::::::::oo_r::::rrr:::::::::r____dd::::::::::::::d____________________
#  t:::::::::::::::::t____h::::::::::::::hh___e::::::eeeee:::::ee______l::::l_o:::::::::::::::or:::::::::::::::::r__d::::::::::::::::d____________________
#  tttttt:::::::tttttt____h:::::::hhh::::::h_e::::::e_____e:::::e______l::::l_o:::::ooooo:::::orr::::::rrrrr::::::rd:::::::ddddd:::::d____________________
#  ______t:::::t__________h::::::h___h::::::he:::::::eeeee::::::e______l::::l_o::::o_____o::::o_r:::::r_____r:::::rd::::::d____d:::::d____________________
#  ______t:::::t__________h:::::h_____h:::::he:::::::::::::::::e_______l::::l_o::::o_____o::::o_r:::::r_____rrrrrrrd:::::d_____d:::::d____________________
#  ______t:::::t__________h:::::h_____h:::::he::::::eeeeeeeeeee________l::::l_o::::o_____o::::o_r:::::r____________d:::::d_____d:::::d____________________
#  ______t:::::t____tttttth:::::h_____h:::::he:::::::e_________________l::::l_o::::o_____o::::o_r:::::r____________d:::::d_____d:::::d____________________
#  ______t::::::tttt:::::th:::::h_____h:::::he::::::::e_______________l::::::lo:::::ooooo:::::o_r:::::r____________d::::::ddddd::::::dd___________________
#  ______tt::::::::::::::th:::::h_____h:::::h_e::::::::eeeeeeee_______l::::::lo:::::::::::::::o_r:::::r_____________d:::::::::::::::::d___________________
#  ________tt:::::::::::tth:::::h_____h:::::h__ee:::::::::::::e_______l::::::l_oo:::::::::::oo__r:::::r______________d:::::::::ddd::::d___________________
#  __________ttttttttttt__hhhhhhh_____hhhhhhh____eeeeeeeeeeeeee_______llllllll___ooooooooooo____rrrrrrr_____________ddddddddddd___ddddd___________________
#  __________________________________________iiii___________________kkkkkkkk________________________________________d::::::d______________________________
#  _________________________________________i::::i__________________k::::::k________________________________________d::::::d______________________________
#  __________________________________________iiii___________________k::::::k________________________________________d::::::d______________________________
#  _________________________________________________________________k::::::k________________________________________d:::::d_______________________________
#  yyyyyyy___________yyyyyyy_ooooooooooo___iiiiiiinnnn__nnnnnnnn_____k:::::k____kkkkkkk_eeeeeeeeeeee________ddddddddd:::::d_______________________________
#  _y:::::y_________y:::::yoo:::::::::::oo_i:::::in:::nn::::::::nn___k:::::k___k:::::kee::::::::::::ee____dd::::::::::::::d_______________________________
#  __y:::::y_______y:::::yo:::::::::::::::o_i::::in::::::::::::::nn__k:::::k__k:::::ke::::::eeeee:::::ee_d::::::::::::::::d_______________________________
#  ___y:::::y_____y:::::y_o:::::ooooo:::::o_i::::inn:::::::::::::::n_k:::::k_k:::::ke::::::e_____e:::::ed:::::::ddddd:::::d_______________________________
#  ____y:::::y___y:::::y__o::::o_____o::::o_i::::i__n:::::nnnn:::::n_k::::::k:::::k_e:::::::eeeee::::::ed::::::d____d:::::d_______________________________
#  _____y:::::y_y:::::y___o::::o_____o::::o_i::::i__n::::n____n::::n_k:::::::::::k__e:::::::::::::::::e_d:::::d_____d:::::d_______________________________
#  ______y:::::y:::::y____o::::o_____o::::o_i::::i__n::::n____n::::n_k:::::::::::k__e::::::eeeeeeeeeee__d:::::d_____d:::::d_______________________________
#  _______y:::::::::y_____o::::o_____o::::o_i::::i__n::::n____n::::n_k::::::k:::::k_e:::::::e___________d:::::d_____d:::::d_______________________________
#  ________y:::::::y______o:::::ooooo:::::oi::::::i_n::::n____n::::nk::::::k_k:::::ke::::::::e__________d::::::ddddd::::::dd______________________________
#  _________y:::::y_______o:::::::::::::::oi::::::i_n::::n____n::::nk::::::k__k:::::ke::::::::eeeeeeee___d:::::::::::::::::d______________________________
#  ________y:::::y_________oo:::::::::::oo_i::::::i_n::::n____n::::nk::::::k___k:::::kee:::::::::::::e____d:::::::::ddd::::d______________________________
#  _______y:::::y____________ooooooooooo___iiiiiiii_nnnnnn____nnnnnnkkkkkkkk____kkkkkkk_eeeeeeeeeeeeee_____ddddddddd___ddddd______________________________
#  ______y:::::y__________________________________________________________________________________________________________________________________________
#  _____y:::::y___________________________________________________________________________________________________________________________________________
#  ____y:::::y____________________________________________________________________________________________________________________________________________
#  ___y:::::y_____________________________________________________________________________________________________________________________________________
#  __yyyyyyy______________________________________________________________________________________________________________________________________________
#  __aaaaaaaaaaaaawwwwwww___________wwwww___________wwwwwwwaaaaaaaaaaaaayyyyyyy___________yyyyyyy_________________________________________________________
#  __a::::::::::::aw:::::w_________w:::::w_________w:::::w_a::::::::::::ay:::::y_________y:::::y__________________________________________________________
#  __aaaaaaaaa:::::aw:::::w_______w:::::::w_______w:::::w__aaaaaaaaa:::::ay:::::y_______y:::::y___________________________________________________________
#  ___________a::::a_w:::::w_____w:::::::::w_____w:::::w____________a::::a_y:::::y_____y:::::y____________________________________________________________
#  ____aaaaaaa:::::a__w:::::w___w:::::w:::::w___w:::::w______aaaaaaa:::::a__y:::::y___y:::::y_____________________________________________________________
#  __aa::::::::::::a___w:::::w_w:::::w_w:::::w_w:::::w_____aa::::::::::::a___y:::::y_y:::::y______________________________________________________________
#  _a::::aaaa::::::a____w:::::w:::::w___w:::::w:::::w_____a::::aaaa::::::a____y:::::y:::::y_______________________________________________________________
#  a::::a____a:::::a_____w:::::::::w_____w:::::::::w_____a::::a____a:::::a_____y:::::::::y________________________________________________________________
#  a::::a____a:::::a______w:::::::w_______w:::::::w______a::::a____a:::::a______y:::::::y_________________________________________________________________
#  a:::::aaaa::::::a_______w:::::w_________w:::::w_______a:::::aaaa::::::a_______y:::::y__________________________________________________________________
#  _a::::::::::aa:::a_______w:::w___________w:::w_________a::::::::::aa:::a_____y:::::y___________________________________________________________________
#  __aaaaaaaaaa__aaaa________www_____________www___________aaaaaaaaaa__aaaa____y:::::y____________________________________________________________________
#  ___________________________________________________________________________y:::::y_____________________________________________________________________
#  __________________________________________________________________________y:::::y______________________________________________________________________
#  _________________________________________________________________________y:::::y_______________________________________________________________________
#  ________________________________________________________________________y:::::y________________________________________________________________________
#  _______________________________________________________________________yyyyyyy_________________________________________________________________________
#  _______________________________________________________________________________________________________________________________________________________
#  _______________________________________________________________________________________________________________________________________________________
*/
'use strict'
window.Yeet = (function(){
    const yeets = [];
    const yoinks = [];
    const errors = [];


    /* === BASIC FUNCTIONALITY === */

    const yoink = (n , c , a) => {
        if (typeof n !== 'string' && typeof n !== 'number') {
            throw new TypeError(`yeet identifier should be either a string representing it's name or the index number from the Activeyeetsarray`);
        } 
        let objNotif = {context: this, action : 'yoink', name : n, callback : c, Element : a};
        if (a.yoinks instanceof Array || a.yoinks === undefined) {
            a.yoinks = [];
        }
        if (a.yoinks.find((e) => { return (e.name === n && e.callback === c) }) === undefined) //Element has not yet been subscribed
            {
                let notif = (typeof n === 'string') ? yoinks.findIndex((e) => {return e.name === n}) : yoinks[n];
                (yoinks[notif] === undefined) ? yoinks.push({name: String(n),notifiers: [a]}) : yoinks[notif].notifiers.push(a);
                a.yoinks.push(objNotif);
                a.addEventListener(n, c);
                return true;
            }
        a.errors.push({Invoker: objNotif, Error: new SyntaxError(`Excisting yeet listener for this identifier and callback`)})
        return false;
    }

    const unyoink = (m, c, a) => {
        let objNotif = {context: this, action : 'unyoink', name : m, callback : c, Element : a};
        if (typeof m !== 'string' && typeof m !== 'number'){
            a.errors.push({
                Invoker: objNotif,
                Error: new TypeError(`Expected Identifier to be of type string or number, got ${typeof m}`)    
            })
            return false;
        }
        if (typeof c !== 'function' && c !== undefined){
            a.errors.push({
               Invoker: objNotif,
               Error: new TypeError(`Expected type of callback to be function, got ${typeof c}`)
            })
            return false;
        }
        if (typeof a !== 'object'){
            a.errors.push({
                Invoker:objNotif,
                error: new TypeError(`Expected element to be of type object and be selectable in the DOM, got ${typeof a}`)
            })
            return false;
        }
        let yoinkName = (typeof m === 'string') ? m : yoinks[m].name;
        if (c === undefined){
            a.yoinks = a.yoinks.filter((r, i) => {
                return r.name !== yoinkName
            })
        }
        else{
            a.yoinks.splice(a.yoinks.findIndex((r) => {
                return r.name === yoinkName;
            }), 1);
        }
        var tempID = null;
        let elemID = yoinks.find((e, i) => {
            if (e.name === yoinkName){
                tempID = i;
                return true;
            }
            else {return false}    
        }).notifiers.findIndex((e) => {
            return e === a
        });
        yoinks[tempID].notifiers.splice(elemID, 1);
        
        
    }

    const yeet = (b, i=null, a , c=false, u=false) => {
        if (yeets.find((e) => { return (e.name === b && e.unique) }) !== undefined){
            errors.push({
                invoker:a,
                Error: new SyntaxError(`Encountered existing notification with provided identifier which has the unqiue flag`)
            });
            return false; 
        }
        if (typeof b !== 'string'){ 
            errors.push({
                invoker:a,
                yeet: b,
                error: new TypeError(`Type of event identifier should be string, got ${typeof n}`)
            });
            return false;
        }
        if (typeof a !== 'object'){
            errors.push({
                invoker:a,
                yeet: b,
                error: TypeError(`Type of element should be object, got ${typeof a}`)
            });
            return false;
        }
        if (u && yeets.find((e) => { return e.name === b && e.initiator != a }) !== undefined) {
            errors.push({
                invoker:a,
                yeet: b,
                error: SyntaxError('Unique flag set, Existing notification(s) with the provided indentifier')
            });
            return false;
        }
        let yeet = new CustomEvent(b, {
            bubbles:true,
            detail: {
                message: i,
                complete: c,
                timing: Date.now(),
                from: a
            }
        });
        var index;
        if ((index = yeets.findIndex((e) => { return e.name === b})) === -1)
            {
                yeets.push({
                    name: b,
                    unique: u,
                    subscribers: () => {
                        return yeets.find((e) => {
                            return e.name === b
                        }).yoinkers.length
                    },
                    yoinkers: [a]
                }) 
            }
        else
            {
                if (yeets[index].yoinkers.indexOf(a) === -1){
                    yeets[index].yoinkers.push(a)
                }    
            }
        var notif;
        if (notif = yoinks.find((n) => {return n.name === b;})){
            notif.notifiers.map((e) => {
                e.dispatchEvent(yeet);
            })
        }
        (a.yeets) ? a.yeets.push({
            name:b,
            event: yeet,
            timing: Date.now(),
            complete: c,
            unique: u 
        }) : a.yeets = [{
            name:b,
            event: yeet,
            timing: Date.now(), 
            complete: c,
            unique: u 
        }] ;
        return true;
    }

    const unyeet = (c, u=true, a) => {
        if (typeof c !== 'string' && typeof c !== 'number'){
            errors.push({
                invoker: a,
                error: new TypeError(`Expected identifier to be of type string or number, got ${typeof c}`) 
            })
            return false;
        }
        if (typeof u !== 'boolean'){
            errors.push({
                invoker: a,
                error: new TypeError(`Expected complete flag to be of type boolean, got ${typeof u}`) 
            })
            return false;
        }
        if (typeof a !== 'object'){
            errors.push({
                invoker: a,
                error: new TypeError(`Expected complete flag to be of type object, got ${typeof a}`) 
            })
            return false;
        }
        let index = (typeof c === 'string') ? yeets.findIndex((e) => {return e.name === c }) : c
        if (index === -1){
            errors.push({
                invokerer:a, 
                error: new ReferenceError(`No such yeet found`)
            });
            return false;
        }
        else{
            if(yeets[index].yoinkers.length === 1){
                yeets.splice(index, 1);
                return true;
            } 
            else{
                yeets[index].yoinkers.splice(yeets[index].yoinkers.find((e) => {
                    e.name === c
                }),1);
                return true;
            }
        }

    }

    const whisperTo = (t, f, m) => {
        //To From Message
        if (typeof t !== 'object' && typeof t !== 'string'){
            errors.push({
                invoker: f,
                error: new TypeError(`Expected the target to be an object reference or identifier of type string, got ${typeof t}`) 
            });
            return false;
        }
        if (typeof f !== 'object'){
            errors.push({
                invoker: f,
                error: new TypeError(`Expected origin to be an object refernce, got ${typeof f}`) 
            });
            return false;
        }
        if (m === undefined){
            errors.push({
                invoker: f,
                error: new TypeError(`Expected message to be defined, got ${typeof m} => ${m}`) 
            });
            return false;
        }
        let message = {origin:f, message:m };
        if(typeof t === 'string'){
            document.querySelectorAll(t).forEach(el => el.whisper = message)
        }{
            t.whisper = message
        }
        return true;
    }

    /* === HELPER FUNCTIONALITY === */
    const lastError = () => {
        return errors[errors.length-1];
    }
    const hasYeet = (y, e) => {
        return(e.yeets) ? !!e.yeets.find((i) => {
            return i.name === y;
        }) :  false;
    }
    const hasYoink = (y, e) => {
        return (e.yoinks) ? !!e.yoinks.find((i) => {
            return i.name === y;
        }) : false;
    }

    /* -===- EXPOSE FRONT FACING VARIABLES AND METHODS */
    return {
        activeYeets: yeets,
        activeYoinks: yoinks,
        errors: errors,
        lastError: lastError,
        yoink: yoink,
        unyoink: unyoink,
        yeet: yeet,
        unyeet: unyeet,
        hasYeet: hasYeet,
        hasYoink: hasYoink,
        whisperTo: whisperTo
    }
})();


//Bind properties and methods to Element prototype to make them native accessible to DOMElements
Object.defineProperties(
    Element.prototype,
        {
            onWhisper:{
                enumerable: true,
                configurable: false,
                messageHandler: () => {},
                get: function(){
                },
                set: function(e){
                    if (e instanceof Function){
                        this.messageHandler = e;
                        this.addEventListener('whisper', function(e){
                            if (e instanceof CustomEvent){
                                this.messageHandler(e.detail)
                            }
                        });
                    }
                }
            },
            whisper:{
                enumerable: true,
                configurable: false,
                get: function(){
                    return false;
                },
                set: function(e){
                    this.dispatchEvent(new CustomEvent('whisper', {detail:e}));
                }
            },
            yoink:{
                enumerable: true,
                configurable: false,
                writable: false,
                value: function(n, c){
                    return window.Yeet.yoink(n, c, this);
                }
            },
            unyoink:{
                enumerable: true,
                configurable: false,
                writable: false,
                value: function(n, c) {
                    return window.Yeet.unyoink(n, c, this);
                }
            },
            yeet:{
                enumerable: true,
                configurable: false,
                writable: false,
                value: function(b, i, c, u) {
                    return window.Yeet.yeet(b, i, this, c, u);
                }
            },
            unyeet:{
                enumerable: true,
                configurable: false,
                writable:false,
                value: function(c, u) {
                    return window.Yeet.unyeet(c, u, this);
                }
            },
            hasYeet: {
                enumerable:true,
                configurable:false,
                writable: false,
                value: function(i){
                    return window.Yeet.hasYeet(i, this);
                }
            },
            hasYoink: {
                enumerable:true,
                configurable:false,
                writable: false,
                value: function(i){
                    return window.Yeet.hasYoink(i, this);
                }
            },
            whisperTo: {
                enumerable:true,
                configurable:false,
                writable: false,
                value: function(t, m){
                    return window.Yeet.whisperTo(t, this, m);
                }
            }
        } 
);

//General
/**
* @author Yoram Vleugels
* @version 0.0.11
* @file yeet_lib.js
* @description <b><i>The lord Yeethed and the Lord Yoinked away</i></b><p>Abstraction messaging layer, using custom event triggers in a (mostly) Pub/Sub pattern to make 121 or 12M communications easier</p>
* @copyright Yoram Vleugels
* @license GPL-3.0
*/
//Class DOMElement
/**
* @description Native property & functions on DOM elements
* @class DOMElement
*/
/** Properties containing collections on elements
* @memberof DOMElement
* @name Base
* @property { Object[] } yeets - An array of objects containing the name of yoink and callback assigned to it<br /><b>[{name:*, callback: *}, {..}, {..}, ..]</b>
* @property { Object[] } yoinks - An array objects with properties of the yoinks<br /><b>[{Element: <this>, action: 'yoink|yeet', callback:fnc, context: *, name: <Identifier>}, {..}, {..}, ..]</b>
* @property { Object[] } errors - An array of objects containing all errors which have occured and their invoker<br /><b>[{Invoker: *|{name:*,..}, Error: ErrorObject}, {..}, {..}, ..]</b>
*/
/**
* Bind a callback action to execute when the element gets whispered to
* @name onWhisper
* @method
* @since 0.0.1
* @param { Function } fn - The function to execute on whisper
* @memberof DOMElement
* @example
* Element.onWhisper = function(e){ this.textContent = e }
*/
/**
* Capture data with the defined 'onWhisper' method, The call is anonymous so if the element needs to know the origin element, use the origin elements' whisperTo method
* @name whisper
* @since 0.0.11
* @property { Any } input -The information to whisper to pass
* @memberof DOMElement
* @example
* element.whisper = "some text"
*/
/**
* Request notifications from yeets
* @name yoink
* @since 0.0.1
* @method
* @memberof DOMElement
* @param { String | Number } n - ID or identifier of the yeet, case sensitive if using identifier, ID must be the ID as per activeYeets-array
* @param { Function } c - Callback function 
* @param { Element= } a - Element requesting notification
* 
* @return { Boolean } Returns true or false
* @throws {TypeError | ReferenceError} available in the errors property or use Element.errors.lastError()
* @example
* Element.yoink('ID', console.log)
*/
/**
* Cancel updates from yeets
* 
* @method
* @name unyoink
* @since 0.0.1
* @memberof DOMElement
* @param { String | Number } m - Identifier of index in activeYoinks of the yeet
* @param { String | Function=} c - Callback function to revoke (if none is provided, all are removed)
* @param { Element } a - Element requesting cancellation
* 
* @returns { Boolean } Returns true or false
* @throws {TypeError | ReferenceError} available in the errors property or use Element.errors.lastError()
* @example
* Element.unyoink('ID')
*/
/**
* Throw new yeet which can be captured
* 
* @method
* 
* @name yeet
* @since 0.0.1
* @memberof DOMElement
* @param { String } b - Identifier to which yoinks can be coupled, case sensitive
* @param { * } i - Any additional information you want to pass through to observing elements
* @param { Object= } a - Element which will throw the yoink 
* @param { Boolean } [c=false] - Complete flag, indicates if the element has completed all it's yeets, does not decouple 
* @param { Boolean } [u=false] - Unique flag, indicates if the given identifier should be unique, so only this element can use it 
* 
* @return { Boolean } Returns true or false
* @throws {TypeError | ReferenceError} available in the errors property or use Element.errors.lastError()
* @example
* Element.yeet('TestYeet', {'message': 'test'})
* Element.yeet('TestYeet', {'message': 'test'}, this, true, true) //When using Complete and/or unique flags it's best to provide all arguments
*/
/**
* Cancel yeet stream (for calling element only), <br />If no other element have been found which have used this yeet stream unop unyeet the yeet will dissapear from the activeYeets array.<br /> <br /><b>*Note: if the unqiue flag was set, this will be removed upon unyeeting, thus releasing it to other elements</b>, <small>if you do not wish to do this you can simply not unyeet the element.</small><br />
<b>Setting the complete flag will not prevent other elements from still yeeting this event</b>, <small>it's merely a tool to signal to yoinkers that 1 element has completed it's yeets</small>
* 
* @method
* 
* @name unyeet
* @since 0.0.1
* @memberof DOMElement
* @param { String | Number } c - Identifier of index in activeYeets of the yeet
* @param { Boolean } [u=true] - Should elements listening for this yoink be notified of the closure, done via complete flag
* @param { Element } a - Element requesting cancellation
* 
* @returns { Boolean } Returns true or false
* @throws {TypeError | ReferenceError} available in the errors property or use Element.errors.lastError()
* @example
* Element.unyoink('ID')
*/
/**
* Check if a certain element has a certain yeet attatched
* 
* @method
* 
* @name hasYeet
* @since 0.0.1
* @memberof DOMElement
* @param { String } c - Identifier of the yeet
* @param { Element } a - Element to check
* 
* @returns { Boolean } Returns true or false
* 
* @example
* Element.hasYeet('ID')
*/
/**
* Check if a certain element has a certain yoink listener
* 
* @method
* 
* @name hasYoink
* @since 0.0.1
* @memberof DOMElement
* @param { String } c - Identifier of the yoink
* @param { Element } a - Element to check
* 
* @returns { Boolean } Returns true or false
* 
* @example
* Element.hasYoink('ID')
*/
/**
* Return the last error which occured for this element
* 
* @method
* 
* @name LastError
* @since 0.0.1
* @memberof DOMElement
* @returns { ErrorObject } Returns an object containing all data detailing the error
* @example
* Element.LastError()
*/
/**
* Whisper to another element, Beware that unlike the whisper ontarget  elements, this function is not anonymous, the target element is aware the origin of the whisper
* 
* @method
* 
* @name whisperTo
* @since 0.0.11
* @memberof DOMElement
* @param { String | object } t - The target(s) to whisper to, must be either a string identifier (css-selectors) or object reference
* @param { Any } m - message to send to target
* @returns { Boolean } Returns true or false
* @throws {TypeError | ReferenceError} available in the errors property or use Element.errors.lastError()
* @example
* Element.whisperTo(AnotherElement, 'Target specific element');
* Element.whisperTo('p', 'target all <p>-element')
* Element.whisperTo('.classSelector', `target all elements with class 'classSelector'`);
* Element.whisperTo('#idSelector', `target all elements with id 'idSelector'`);
*/

//Namespace Yeet
/**
* @description alias of native functions but pulled into global namespace to make them avaible for other elements
* @namespace Yeet
*/
/** Array of all the (global) active listeners at the time
* @memberof Yeet
* @name Base
* @property { Object[] } activeYeets - An array of objects containing the name of (global) yeets and element which throws it<br /><b>[{name: *, unique: true|false, subscribers: #amount, yoinkers:[*, *, ...]}, {..}, {..}, ..]</b>
* @property { Object[] } activeYoinks - An array of objects containing the name of (global) yoinks and elements listening for it<br /><b>[{name: *, notifiers: [*, *, ..]}, {..}, {..}, ..]</b>
* @property { Object[] } errors - An array of objects containing all errors which have occured and their invoker<br /><b>[{Invoker: *|{name:*,..}, Error: ErrorObject}, {..}, {..}, ..]</b>
*/
/**
* The last error which occured
* @memberof Yeet
* @method
* @returns {String}
*/
/**
* Alias of native yoink but pulled in the Yeet namespace
* @memberof Yeet
* @name yoink
* @since 0.0.1
* @method
* @alias yoink
* @example
* window.Yeet.yoink('ID', console.log, document.querySelector('#div'))
*/
/**
* Alias of native unyoink but pulled in the Yeet namespace
* @memberof Yeet
* @name unyoink
* @since 0.0.1
* @method
* @alias unyoink
* @example
* window.Yeet.yoink('ID', document.querySelector('#div'))
*/
/**
* Alias of native yeet but pulled in the Yeet namespace
* @memberof Yeet
* @name yeet
* @since 0.0.1
* @method
* @alias yeet
* @example
* window.Yeet.yeet('TestYeet', {'message': 'test'},document.querySelector('#div'))
* window.Yeet.yeet('TestYeet', {'message': 'test'},document.querySelector('#div'), true, true) 
*/
/**
* Alias of native yoink but pulled in the Yeet namespace
* @memberof Yeet
* @name unyeet
* @since 0.0.1
* @method
* @alias unyeet
* @example
* window.Yeet.yoink('ID', document.querySelector('#div'))
*/
/**
 * Alias of native hasYeet but pulled in the Yeet namespace
 * @memberof Yeet
 * @name hasYeet
 * @since 0.0.1
 * @method
 * @alias hasYeet
 * @example
 * window.Yeet.hasYeet('ID', document.querySelector('#div'))
 */
/**
 * Alias of native hasYionk but pulled in the Yeet namespace
 * @memberof Yeet
 * @name hasYoink
 * @since 0.0.1
 * @method
 * @alias hasYoink
 * @example
 * window.Yeet.hasYoink('ID', document.querySelector('#div'))
 */

 /**
* Alias of native whisperTo but pulled in the Yeet namespace
* 
* @method
* 
* @name whisperTo
* @since 0.0.11
* @memberof Yeet
* @alias whisperTo
* @param { Object } originElement -Element send the whisper
* @example
* window.Yeet.whisperTo(targetElement, originElement 'Target specific element');
*/